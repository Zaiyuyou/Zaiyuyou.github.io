---
title: 动态内存申请
date: 2024-07-02
tags:
  - 开发技巧
  - 笔记
  - C
categories:
  - 编程
---
## 概念
动态内存申请实际上是在堆区开辟内存空间，而堆区空间手动开辟，手动释放，不像栈区由操作系统自动维护。同时，很多时候我们需要的内存空间取决于实际输入的数据，所以我们就需要动态分配内存了。

## 动态分配函数
1. `stdlib.h`C标准库函数
  * `void *malloc(unsigned int size)`函数
    * 在[**堆区**](https://blog.csdn.net/panjiapengfly/article/details/102665381)中分配一块长度为size字节的连续存储空间；并返回指向该存储空间首地址的指针，分配失败时，返回NULL。
    * **注意**
      * 一般用`memset`初始化
      * **调用`malloc`后一定要判断一下是否申请成功**
      * 每次`malloc`申请的空间是连续的，但是多次`malloc`申请的空间不一定连续。
      * 返回的是`void *`指针，在调用函数时，需要强制类型转换成我们需要的类型。**即-养成malloc前面接强转的好习惯。**
  
  * `void *calloc(unsigned int n, unsigned int size)`函数
    * 在堆区中分配一块长度为n×size字节的连续存储空间；并返回指向该存储空间首地址的指针；分配失败时，返回NULL。  
    * 分配的空间被初始化为0